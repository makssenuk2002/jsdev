{"ast":null,"code":"import { ref, computed } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  setup() {\n    const store = useStore();\n    const searchText = ref('');\n    const currentPage = ref(1);\n    const pageSize = ref(10);\n    const totalPackages = ref(0);\n    const modalVisible = ref(false);\n    const loading = ref(false);\n    const selectedPackage = ref(null);\n    const packages = computed(() => {\n      return store.state.listOfPackages;\n    });\n    const fetchPackages = async () => {\n      try {\n        loading.value = true;\n        await store.dispatch('fetchPackages', {\n          page: currentPage.value,\n          limit: pageSize.value,\n          searchText: searchText.value\n        });\n        totalPackages.value = 100; // Установите общее количество пакетов из API или другого источника\n      } catch (error) {\n        console.error('Ошибка при получении пакетов:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n    const handleSearch = () => {\n      currentPage.value = 1;\n      fetchPackages();\n    };\n    const handleCurrentChange = page => {\n      currentPage.value = page;\n      fetchPackages();\n    };\n    const showPackageInfo = row => {\n      console.log(23213);\n      selectedPackage.value = row;\n      modalVisible.value = true;\n    };\n    fetchPackages();\n    const filteredPackages = computed(() => {\n      return packages.value?.filter(pkg => pkg.name.toLowerCase().includes(searchText.value.toLowerCase()));\n    });\n    return {\n      packages,\n      searchText,\n      currentPage,\n      pageSize,\n      totalPackages,\n      modalVisible,\n      selectedPackage,\n      filteredPackages,\n      loading,\n      handleSearch,\n      handleCurrentChange,\n      showPackageInfo\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","useStore","setup","store","searchText","currentPage","pageSize","totalPackages","modalVisible","loading","selectedPackage","packages","state","listOfPackages","fetchPackages","value","dispatch","page","limit","error","console","handleSearch","handleCurrentChange","showPackageInfo","row","log","filteredPackages","filter","pkg","name","toLowerCase","includes"],"sources":["/Users/maksymsenyuk/Desktop/projects/test/src/pages/MainPage.vue"],"sourcesContent":["<template>\n  <div v-loading=\"loading\" class=\"container\">\n    <div class=\"wrapper\">\n      <el-input v-model=\"searchText\" placeholder=\"Введите название пакета\" @input=\"handleSearch\"></el-input>\n      <el-table  @row-click=\"showPackageInfo\" v-if=\"packages\" :data=\"filteredPackages\" border stripe>\n        <el-table-column prop=\"name\" label=\"Название пакета\" ></el-table-column>\n        <!-- Другие столбцы с информацией о пакетах -->\n      </el-table>\n      <el-pagination\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[10, 20, 30, 40]\"\n          :page-size=\"pageSize\"\n          :total=\"totalPackages\"\n      ></el-pagination>\n      <el-dialog   v-model=\"modalVisible\" width=\"50%\" title=\"Расширенная информация о пакете\">\n        <div v-if=\"selectedPackage\">\n          <p>Название пакета: {{ selectedPackage.name }}</p>\n          <!-- Другие поля для отображения информации о пакете -->\n        </div>\n      </el-dialog>\n      <footer class=\"footer\">\n        <p>Автор: Ваше Имя</p>\n        <a href=\"https://github.com/yourgithubusername\" target=\"_blank\">Ссылка на GitHub</a>\n        <!-- Можете добавить фото автора -->\n        <!-- <img src=\"your_photo_url\" alt=\"Your Photo\" width=\"100\"> -->\n      </footer>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default {\n  setup() {\n    const store = useStore()\n    const searchText = ref('')\n    const currentPage = ref(1)\n    const pageSize = ref(10)\n    const totalPackages = ref(0)\n    const modalVisible = ref(false)\n    const loading = ref(false)\n    const selectedPackage = ref(null)\n\n    const packages = computed(() => {\n      return store.state.listOfPackages\n    })\n\n    const fetchPackages = async () => {\n      try {\n        loading.value = true\n        await store.dispatch('fetchPackages', {\n          page: currentPage.value,\n          limit: pageSize.value,\n          searchText: searchText.value\n        })\n        totalPackages.value = 100 // Установите общее количество пакетов из API или другого источника\n      } catch (error) {\n        console.error('Ошибка при получении пакетов:', error)\n      }finally {\n        loading.value = false\n      }\n    }\n\n    const handleSearch = () => {\n      currentPage.value = 1\n      fetchPackages()\n    }\n\n    const handleCurrentChange = (page) => {\n      currentPage.value = page\n      fetchPackages()\n    }\n\n    const showPackageInfo = (row) => {\n      console.log(23213)\n      selectedPackage.value = row\n      modalVisible.value = true\n    }\n\n    fetchPackages()\n\n    const filteredPackages = computed(() => {\n      return packages.value?.filter(pkg => pkg.name.toLowerCase().includes(searchText.value.toLowerCase()))\n    })\n\n    return {\n      packages,\n      searchText,\n      currentPage,\n      pageSize,\n      totalPackages,\n      modalVisible,\n      selectedPackage,\n      filteredPackages,\n      loading,\n      handleSearch,\n      handleCurrentChange,\n      showPackageInfo\n    }\n  }\n}\n</script>\n\n<style>\n.container {\n  margin: 0 auto;\n  width: 80%;\n}\n.wrapper {\n  margin-top: 20px;\n}\n.footer {\n  margin-top: 40px;\n  text-align: center;\n  font-size: 14px;\n  color: #666;\n}\n.footer a {\n  color: #3498db;\n  text-decoration: none;\n}\n.footer a:hover {\n  text-decoration: underline;\n}\n</style>\n"],"mappings":"AAgCA,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAI;AAClC,SAASC,QAAO,QAAS,MAAK;AAE9B,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIF,QAAQ,CAAC;IACvB,MAAMG,UAAS,GAAIL,GAAG,CAAC,EAAE;IACzB,MAAMM,WAAU,GAAIN,GAAG,CAAC,CAAC;IACzB,MAAMO,QAAO,GAAIP,GAAG,CAAC,EAAE;IACvB,MAAMQ,aAAY,GAAIR,GAAG,CAAC,CAAC;IAC3B,MAAMS,YAAW,GAAIT,GAAG,CAAC,KAAK;IAC9B,MAAMU,OAAM,GAAIV,GAAG,CAAC,KAAK;IACzB,MAAMW,eAAc,GAAIX,GAAG,CAAC,IAAI;IAEhC,MAAMY,QAAO,GAAIX,QAAQ,CAAC,MAAM;MAC9B,OAAOG,KAAK,CAACS,KAAK,CAACC,cAAa;IAClC,CAAC;IAED,MAAMC,aAAY,GAAI,MAAAA,CAAA,KAAY;MAChC,IAAI;QACFL,OAAO,CAACM,KAAI,GAAI,IAAG;QACnB,MAAMZ,KAAK,CAACa,QAAQ,CAAC,eAAe,EAAE;UACpCC,IAAI,EAAEZ,WAAW,CAACU,KAAK;UACvBG,KAAK,EAAEZ,QAAQ,CAACS,KAAK;UACrBX,UAAU,EAAEA,UAAU,CAACW;QACzB,CAAC;QACDR,aAAa,CAACQ,KAAI,GAAI,GAAE,EAAE;MAC5B,EAAE,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK;MACtD,CAAC,SAAQ;QACPV,OAAO,CAACM,KAAI,GAAI,KAAI;MACtB;IACF;IAEA,MAAMM,YAAW,GAAIA,CAAA,KAAM;MACzBhB,WAAW,CAACU,KAAI,GAAI;MACpBD,aAAa,CAAC;IAChB;IAEA,MAAMQ,mBAAkB,GAAKL,IAAI,IAAK;MACpCZ,WAAW,CAACU,KAAI,GAAIE,IAAG;MACvBH,aAAa,CAAC;IAChB;IAEA,MAAMS,eAAc,GAAKC,GAAG,IAAK;MAC/BJ,OAAO,CAACK,GAAG,CAAC,KAAK;MACjBf,eAAe,CAACK,KAAI,GAAIS,GAAE;MAC1BhB,YAAY,CAACO,KAAI,GAAI,IAAG;IAC1B;IAEAD,aAAa,CAAC;IAEd,MAAMY,gBAAe,GAAI1B,QAAQ,CAAC,MAAM;MACtC,OAAOW,QAAQ,CAACI,KAAK,EAAEY,MAAM,CAACC,GAAE,IAAKA,GAAG,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC3B,UAAU,CAACW,KAAK,CAACe,WAAW,CAAC,CAAC,CAAC;IACtG,CAAC;IAED,OAAO;MACLnB,QAAQ;MACRP,UAAU;MACVC,WAAW;MACXC,QAAQ;MACRC,aAAa;MACbC,YAAY;MACZE,eAAe;MACfgB,gBAAgB;MAChBjB,OAAO;MACPY,YAAY;MACZC,mBAAmB;MACnBC;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}
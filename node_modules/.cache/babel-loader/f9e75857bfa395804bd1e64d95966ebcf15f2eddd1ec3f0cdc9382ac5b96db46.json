{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_el_input, {\n    modelValue: $setup.searchText,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchText = $event),\n    placeholder: \"Введите название пакета\",\n    onInput: $setup.handleSearch\n  }, null, 8 /* PROPS */, [\"modelValue\", \"onInput\"]), _createVNode(_component_el_table, {\n    data: $setup.filteredPackages,\n    border: \"\",\n    stripe: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"name\",\n      label: \"Название пакета\"\n    }), _createCommentVNode(\" Другие столбцы с информацией о пакетах \")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"]), _createVNode(_component_el_pagination, {\n    onCurrentChange: $setup.handleCurrentChange,\n    \"current-page\": $setup.currentPage,\n    \"page-sizes\": [10, 20, 30, 40],\n    \"page-size\": $setup.pageSize,\n    total: $setup.totalPackages\n  }, null, 8 /* PROPS */, [\"onCurrentChange\", \"current-page\", \"page-size\", \"total\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_el_input","$setup","searchText","$event","placeholder","onInput","handleSearch","_component_el_table","data","filteredPackages","border","stripe","_component_el_table_column","prop","label","_createCommentVNode","_component_el_pagination","onCurrentChange","handleCurrentChange","currentPage","pageSize","total","totalPackages"],"sources":["/Users/maksymsenyuk/Desktop/projects/test/src/pages/MainPage.vue"],"sourcesContent":["<template>\n  <div>\n    <el-input v-model=\"searchText\" placeholder=\"Введите название пакета\" @input=\"handleSearch\"></el-input>\n    <el-table :data=\"filteredPackages\" border stripe>\n      <el-table-column prop=\"name\" label=\"Название пакета\"></el-table-column>\n      <!-- Другие столбцы с информацией о пакетах -->\n    </el-table>\n    <el-pagination\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size=\"pageSize\"\n        :total=\"totalPackages\"\n    ></el-pagination>\n  </div>\n</template>\n\n<script>\nimport {computed, ref} from 'vue'\nimport axios from 'axios'\n\nexport default {\n  setup() {\n    const packages = ref([])\n    const searchText = ref('')\n    const currentPage = ref(1)\n    const pageSize = ref(10)\n    const totalPackages = ref(0)\n\n    const fetchPackages = async () => {\n      try {\n        const response = await axios.get('https://data.jsdelivr.com/v1/stats/packages', {\n          params: {\n            limit: pageSize.value,\n            offset: (currentPage.value - 1) * pageSize.value\n          }\n        })\n        packages.value = response.data\n        // Установите totalPackages из заголовков ответа API\n        totalPackages.value = 100\n      } catch (error) {\n        console.error('Ошибка при получении пакетов:', error)\n      }\n    }\n\n    const handleSearch = () => {\n      currentPage.value = 1\n      fetchPackages()\n    }\n\n    const handleCurrentChange = (page) => {\n      currentPage.value = page\n      fetchPackages()\n    }\n\n    fetchPackages()\n\n    const filteredPackages = computed(() => {\n      return packages.value.filter(pkg => pkg.name.toLowerCase().includes(searchText.value.toLowerCase()))\n    })\n\n    return {\n      packages,\n      searchText,\n      currentPage,\n      pageSize,\n      totalPackages,\n      filteredPackages,\n      handleSearch,\n      handleCurrentChange\n    }\n  }\n}\n</script>\n\n<style>\n/* Стилизуйте таблицу и пагинацию по вашему усмотрению */\n</style>\n"],"mappings":";;;;;;uBACEA,mBAAA,CAaM,cAZJC,YAAA,CAAsGC,mBAAA;gBAAnFC,MAAA,CAAAC,UAAU;+DAAVD,MAAA,CAAAC,UAAU,GAAAC,MAAA;IAAEC,WAAW,EAAC,yBAAyB;IAAEC,OAAK,EAAEJ,MAAA,CAAAK;sDAC7EP,YAAA,CAGWQ,mBAAA;IAHAC,IAAI,EAAEP,MAAA,CAAAQ,gBAAgB;IAAEC,MAAM,EAAN,EAAM;IAACC,MAAM,EAAN;;sBACxC,MAAuE,CAAvEZ,YAAA,CAAuEa,0BAAA;MAAtDC,IAAI,EAAC,MAAM;MAACC,KAAK,EAAC;QACnCC,mBAAA,4CAA+C,C;;+BAEjDhB,YAAA,CAMiBiB,wBAAA;IALZC,eAAc,EAAEhB,MAAA,CAAAiB,mBAAmB;IACnC,cAAY,EAAEjB,MAAA,CAAAkB,WAAW;IACzB,YAAU,EAAE,gBAAgB;IAC5B,WAAS,EAAElB,MAAA,CAAAmB,QAAQ;IACnBC,KAAK,EAAEpB,MAAA,CAAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
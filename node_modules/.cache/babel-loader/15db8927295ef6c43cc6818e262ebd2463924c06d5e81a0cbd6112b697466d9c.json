{"ast":null,"code":"import { computed, ref } from 'vue';\nimport axios from 'axios';\nexport default {\n  setup() {\n    const packages = ref([]);\n    const searchText = ref('');\n    const currentPage = ref(1);\n    const pageSize = ref(10);\n    const totalPackages = ref(0);\n    const fetchPackages = async () => {\n      try {\n        const response = await axios.get('https://data.jsdelivr.com/v1/stats/packages', {\n          params: {\n            limit: pageSize.value,\n            page: currentPage.value * pageSize.value\n          }\n        });\n        packages.value = response.data;\n        // Установите totalPackages из заголовков ответа API\n        totalPackages.value = 100;\n      } catch (error) {\n        console.error('Ошибка при получении пакетов:', error);\n      }\n    };\n    const handleSearch = () => {\n      currentPage.value = 1;\n      fetchPackages();\n    };\n    const handleCurrentChange = page => {\n      currentPage.value = page;\n      fetchPackages();\n    };\n    fetchPackages();\n    const filteredPackages = computed(() => {\n      return packages.value.filter(pkg => pkg.name.toLowerCase().includes(searchText.value.toLowerCase()));\n    });\n    return {\n      packages,\n      searchText,\n      currentPage,\n      pageSize,\n      totalPackages,\n      filteredPackages,\n      handleSearch,\n      handleCurrentChange\n    };\n  }\n};","map":{"version":3,"names":["computed","ref","axios","setup","packages","searchText","currentPage","pageSize","totalPackages","fetchPackages","response","get","params","limit","value","page","data","error","console","handleSearch","handleCurrentChange","filteredPackages","filter","pkg","name","toLowerCase","includes"],"sources":["/Users/maksymsenyuk/Desktop/projects/test/src/pages/MainPage.vue"],"sourcesContent":["<template>\n  <div>\n    <el-input v-model=\"searchText\" placeholder=\"Введите название пакета\" @input=\"handleSearch\"></el-input>\n    <el-table :data=\"filteredPackages\" border stripe>\n      <el-table-column prop=\"name\" label=\"Название пакета\"></el-table-column>\n      <!-- Другие столбцы с информацией о пакетах -->\n    </el-table>\n    <el-pagination\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size=\"pageSize\"\n        :total=\"totalPackages\"\n    ></el-pagination>\n  </div>\n</template>\n\n<script>\nimport {computed, ref} from 'vue'\nimport axios from 'axios'\n\nexport default {\n  setup() {\n    const packages = ref([])\n    const searchText = ref('')\n    const currentPage = ref(1)\n    const pageSize = ref(10)\n    const totalPackages = ref(0)\n\n    const fetchPackages = async () => {\n      try {\n        const response = await axios.get('https://data.jsdelivr.com/v1/stats/packages', {\n          params: {\n            limit: pageSize.value,\n            page: currentPage.value * pageSize.value\n          }\n        })\n        packages.value = response.data\n        // Установите totalPackages из заголовков ответа API\n        totalPackages.value = 100\n      } catch (error) {\n        console.error('Ошибка при получении пакетов:', error)\n      }\n    }\n\n    const handleSearch = () => {\n      currentPage.value = 1\n      fetchPackages()\n    }\n\n    const handleCurrentChange = (page) => {\n      currentPage.value = page\n      fetchPackages()\n    }\n\n    fetchPackages()\n\n    const filteredPackages = computed(() => {\n      return packages.value.filter(pkg => pkg.name.toLowerCase().includes(searchText.value.toLowerCase()))\n    })\n\n    return {\n      packages,\n      searchText,\n      currentPage,\n      pageSize,\n      totalPackages,\n      filteredPackages,\n      handleSearch,\n      handleCurrentChange\n    }\n  }\n}\n</script>\n\n<style>\n/* Стилизуйте таблицу и пагинацию по вашему усмотрению */\n</style>\n"],"mappings":"AAkBA,SAAQA,QAAQ,EAAEC,GAAG,QAAO,KAAI;AAChC,OAAOC,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,QAAO,GAAIH,GAAG,CAAC,EAAE;IACvB,MAAMI,UAAS,GAAIJ,GAAG,CAAC,EAAE;IACzB,MAAMK,WAAU,GAAIL,GAAG,CAAC,CAAC;IACzB,MAAMM,QAAO,GAAIN,GAAG,CAAC,EAAE;IACvB,MAAMO,aAAY,GAAIP,GAAG,CAAC,CAAC;IAE3B,MAAMQ,aAAY,GAAI,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMR,KAAK,CAACS,GAAG,CAAC,6CAA6C,EAAE;UAC9EC,MAAM,EAAE;YACNC,KAAK,EAAEN,QAAQ,CAACO,KAAK;YACrBC,IAAI,EAAET,WAAW,CAACQ,KAAI,GAAIP,QAAQ,CAACO;UACrC;QACF,CAAC;QACDV,QAAQ,CAACU,KAAI,GAAIJ,QAAQ,CAACM,IAAG;QAC7B;QACAR,aAAa,CAACM,KAAI,GAAI,GAAE;MAC1B,EAAE,OAAOG,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK;MACtD;IACF;IAEA,MAAME,YAAW,GAAIA,CAAA,KAAM;MACzBb,WAAW,CAACQ,KAAI,GAAI;MACpBL,aAAa,CAAC;IAChB;IAEA,MAAMW,mBAAkB,GAAKL,IAAI,IAAK;MACpCT,WAAW,CAACQ,KAAI,GAAIC,IAAG;MACvBN,aAAa,CAAC;IAChB;IAEAA,aAAa,CAAC;IAEd,MAAMY,gBAAe,GAAIrB,QAAQ,CAAC,MAAM;MACtC,OAAOI,QAAQ,CAACU,KAAK,CAACQ,MAAM,CAACC,GAAE,IAAKA,GAAG,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACrB,UAAU,CAACS,KAAK,CAACW,WAAW,CAAC,CAAC,CAAC;IACrG,CAAC;IAED,OAAO;MACLrB,QAAQ;MACRC,UAAU;MACVC,WAAW;MACXC,QAAQ;MACRC,aAAa;MACba,gBAAgB;MAChBF,YAAY;MACZC;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}